---
title: "Shapefiles"
author: "Andy Grogan-Kaylor"
date: "today"
format:
  html:
    toc: true
    number-sections: true
    code-fold: true
    code-summary: "Show the code"
    theme:
      light: united
      dark: vapor
---

```{css, echo=FALSE}

blockquote {
  color: black;
  border-left: 2px solid #FFCB05; 
  padding: 0.5em 10px;
}
  
```

# Shapefiles

Shapefiles are a spatial data format originally developed by ESRI[?].

Shapefiles come in three major types:

* **points**, to represent point features such as individual or agency locations. At larger scales, cities or towns might also be points.
* **lines**, to represent line features such as roads, trails, or rivers.
* **polygons** to represent polygon features such as outlines of cities, states, or countries.

# Call Libraries

```{r, message=FALSE}

library(ggplot2) # beautiful graphs

# library(dplyr) # data wrangling

library(sf) # simple (spatial) features

# library(readr) # import csv

```

# Open Shapefiles

```{r, eval=TRUE, warning=FALSE}

city_boundary <- read_sf("../shapefiles/AA_City_Boundary/AA_City_Boundary.shp")

buildings <- read_sf("../shapefiles/AA_Building_Footprints/AA_Building_Footprints.shp")

trees <- read_sf("../shapefiles/a2trees/AA_Trees.shp")

parks <- read_sf("../shapefiles/AA_Parks/AA_Parks.shp")

university <- read_sf("../shapefiles/AA_University/AA_University.shp")

WashtenawRoads <- read_sf("../shapefiles/Roads/RoadCenterlines.shp")

AnnArborRoads <- st_crop(WashtenawRoads, 
                         city_boundary) # crop to only get A2 roads

# watersheds <- read_sf("../shapefiles/watersheds/Watersheds.shp")

```

# Use `ggplot` to Map the Shapefiles

```{r}

ggplot(city_boundary) +
  # geom_sf(data = buildings,
  #         fill = "lightgrey") +
  geom_sf(data = AnnArborRoads, 
          color = "lightgrey") +
  geom_sf(color = "red", alpha = .5) + 
  geom_sf(data = trees, 
          size = .1, 
          color = "darkgreen") +
  labs(title = "Demonstration of Shapefiles",
       subtitle = "Green Trees Are Points \nGrey Roads are Lines \nRed City Boundary is Polygon") 

```

