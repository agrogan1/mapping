{
  "hash": "72b9bc6aa52092128ba40502036ee129",
  "result": {
    "markdown": "---\ntitle: \"Shapefiles\"\n---\n\n\n## Introduction\n\nShapefiles are a spatial data format originally developed by [ESRI](https://www.esri.com/en-us/home).\n\nShapefiles come in three major types:\n\n* **points**, to represent point features such as individual or agency locations. At larger scales, cities or towns might also be points.\n* **lines**Ô∏è, to represent line features such as roads, trails, or rivers.\n* **polygons**, to represent polygon features such as outlines of cities, states, or countries.\n\n## Shapefiles Are Lists of Files\n\nShape*files* are actually a *set* or *collection* of associated files, all with the same name, and all in the same directory, but different suffixes. \n\nR--and many other software programs--generally reference the `*.shp` file of the shapefile.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nlist.files(\"./shapefiles/a2trees\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AA_Trees.cpg\"     \"AA_Trees.dbf\"     \"AA_Trees.prj\"     \"AA_Trees.sbn\"    \n[5] \"AA_Trees.sbx\"     \"AA_Trees.shp\"     \"AA_Trees.shp.xml\" \"AA_Trees.shx\"    \n```\n:::\n:::\n\n\n## Call Libraries\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nlibrary(ggplot2) # beautiful graphs\n\n# library(dplyr) # data wrangling\n\nlibrary(sf) # simple (spatial) features\n\n# library(readr) # import csv\n```\n:::\n\n\n## Open Shapefiles\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\ncity_boundary <- read_sf(\"./shapefiles/AA_City_Boundary/AA_City_Boundary.shp\")\n\nbuildings <- read_sf(\"./shapefiles/AA_Building_Footprints/AA_Building_Footprints.shp\")\n\ntrees <- read_sf(\"./shapefiles/a2trees/AA_Trees.shp\")\n\nparks <- read_sf(\"./shapefiles/AA_Parks/AA_Parks.shp\")\n\nuniversity <- read_sf(\"./shapefiles/AA_University/AA_University.shp\")\n\nWashtenawRoads <- read_sf(\"./shapefiles/Roads/RoadCenterlines.shp\")\n\nAnnArborRoads <- st_crop(WashtenawRoads, \n                         city_boundary) # crop to only get A2 roads\n\n# watersheds <- read_sf(\"./shapefiles/watersheds/Watersheds.shp\")\n```\n:::\n\n\n## Use `ggplot` to Map the Shapefiles\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nggplot(city_boundary) + # initial sf data\n  # geom_sf(data = buildings,\n  #         fill = \"lightgrey\") +\n  geom_sf(data = AnnArborRoads, # first layer: Ann Arbor roads \n          color = \"lightgrey\") +\n  geom_sf(color = \"red\", alpha = .5) + # second layer: city boundary\n  geom_sf(data = trees, # third layer: trees\n          size = .01,\n          color = \"darkgreen\") +\n  labs(title = \"Demonstration of Shapefiles\",\n       subtitle = \"Green Trees Are Points \\nGrey Roads are Lines \\nRed City Boundary is Polygon\") +\n  theme_minimal() +\n  theme(axis.text = element_text(size = rel(.5)))\n```\n\n::: {.cell-output-display}\n![](shapefiles_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "shapefiles_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}