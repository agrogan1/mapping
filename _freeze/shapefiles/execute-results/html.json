{
  "hash": "8a6b0dc2f5d62889b74cef3345c19919",
  "result": {
    "engine": "knitr",
    "markdown": "# Shapefiles {#sec-shapefiles}\n\n## Introduction \n\nShapefiles are a spatial data format originally developed by [ESRI](https://www.esri.com/en-us/home).\n\nShapefiles come in three major types:\n\n* **points** <span style=\"color:red\">●</span>, to represent point features such as individual or agency locations. At larger scales, cities or towns might also be points.\n* **lines**️ <span style=\"color:red;font-size:2em\">━━━</span>, to represent line features such as roads, trails, or rivers.\n* **polygons** <span style=\"color:red;font-size:3em\">▭▯</span>, to represent polygon features such as outlines of cities, states, or countries.\n\n## Shape*files* Are Actually *Collections* of Files\n\nShape*files* are actually a *set* or *collection* of associated files, all with the same name, and all in the same directory, but different suffixes. \n\nR--and many other software programs--generally reference the `*.shp` file of the shapefile.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nlist.files(\"./shapefiles/a2trees\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"AA_Trees.cpg\"     \"AA_Trees.dbf\"     \"AA_Trees.prj\"     \"AA_Trees.sbn\"    \n[5] \"AA_Trees.sbx\"     \"AA_Trees.shp\"     \"AA_Trees.shp.xml\" \"AA_Trees.shx\"    \n```\n\n\n:::\n:::\n\n\n## Call Libraries\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nlibrary(ggplot2) # beautiful graphs\n\nlibrary(sf) # simple (spatial) features\n```\n:::\n\n\n## Open Shapefiles\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\ncity_boundary <- read_sf(\"./shapefiles/AA_City_Boundary/AA_City_Boundary.shp\")\n\nbuildings <- read_sf(\"./shapefiles/AA_Building_Footprints/AA_Building_Footprints.shp\")\n\n# trees <- read_sf(\"./shapefiles/a2trees/AA_Trees.shp\")\n\n# parks <- read_sf(\"./shapefiles/AA_Parks/AA_Parks.shp\")\n\n# university <- read_sf(\"./shapefiles/AA_University/AA_University.shp\")\n\nclients <- read_sf(\"./shapefiles/clients/clients.shp\")\n\nWashtenawRoads <- read_sf(\"./shapefiles/Roads/RoadCenterlines.shp\")\n\nAnnArborRoads <- st_crop(WashtenawRoads, \n                         city_boundary) # crop to only get A2 roads\n\n# watersheds <- read_sf(\"./shapefiles/watersheds/Watersheds.shp\")\n```\n:::\n\n\n## Use `ggplot` to Map the Shapefiles\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nggplot(city_boundary) + # initial sf data\n  # geom_sf(data = buildings,\n  #         fill = \"lightgrey\") +\n  geom_sf(data = AnnArborRoads, # first layer: Ann Arbor roads \n          color = \"lightgrey\") +\n  geom_sf(color = \"red\", # second layer: city boundary\n          alpha = .5) + \n  geom_sf(data = clients, # third layer: clients\n          size = 1,\n          color = \"purple\") +\n  labs(title = \"Demonstration of Shapefiles\",\n       subtitle = \"Purple Clients Are Points \\nGrey Roads are Lines \\nRed City Boundary is Polygon\") +\n  theme_minimal() +\n  theme(axis.text = element_text(size = rel(.5)))\n```\n\n::: {.cell-output-display}\n![](shapefiles_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "shapefiles_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}