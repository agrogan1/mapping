{
  "hash": "9611e95d4f35f6b6a5331d5bdebeb475",
  "result": {
    "engine": "knitr",
    "markdown": "# Map Projections {#sec-projections}\n\nMap projections exist because we are trying to take the round globe of the earth, and project it onto a 2 dimensional surface. Because a spherical globe can not be projected onto a flat surface without *some* distortion, different projections make different choices about the kind of distortion involved.\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-94d033aaf485b0c9cd1b\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-94d033aaf485b0c9cd1b\">{\"x\":{\"data\":[{\"type\":\"scattergeo\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"geo\":\"geo\",\"frame\":null},{\"type\":\"scattergeo\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(255,127,14,1)\",\"line\":{\"color\":\"rgba(255,127,14,1)\"}},\"line\":{\"color\":\"rgba(255,127,14,1)\"},\"geo\":\"geo2\",\"frame\":null}],\"layout\":{\"geo\":{\"domain\":{\"x\":[0,0.27999999999999997],\"y\":[0,1]},\"showland\":true,\"landcolor\":\"rgba(169,169,169,1)\",\"showcountries\":true,\"showocean\":false,\"oceancolor\":\"lightblue\",\"lataxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"lonaxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"projection\":{\"type\":\"orthographic\"}},\"geo2\":{\"domain\":{\"x\":[0.32000000000000001,1],\"y\":[0,1]},\"showland\":true,\"landcolor\":\"rgba(169,169,169,1)\",\"showcountries\":true,\"showocean\":false,\"oceancolor\":\"lightblue\",\"lataxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"lonaxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"}},\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"mapType\":\"geo\",\"hovermode\":\"closest\",\"showlegend\":true,\"title\":\"A Globe And A Flat Map\"},\"attrs\":{\"1b7915bb4de6\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"subplot\":true,\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n\nA Globe And A Flat Map\n:::\n:::\n\n\n\n\n::: {.callout-note}\nThis page is mostly a conceptual overview, and not code-focused. However, the code is provided for the sake of transparency and teaching. It is not necessary to understand the code here. But I learned a lot from: [https://plotly.com/r/#maps](https://plotly.com/r/#maps).\n:::\n\n## Set Up The Map\n\n## Call `plotly` Library\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nlibrary(plotly)\n```\n:::\n\n\n\n\n## A Basic Map\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\n# a very basic map could be created with: \n\nlibrary(plotly)\n\nmymap0 <- plot_geo() # create basic map; read into mymap0\n\nmymap0 # replay\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-b4f658d4fcc85a2bb8a5\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-b4f658d4fcc85a2bb8a5\">{\"x\":{\"visdat\":{\"1b7943f13984\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"1b7943f13984\",\"attrs\":{\"1b7943f13984\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"mapType\":\"geo\",\"geo\":{\"domain\":{\"x\":[0,1],\"y\":[0,1]}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"type\":\"scattergeo\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"geo\":\"geo\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## A More Advanced Map\n\n::: {.callout-note collapse=\"false\"}\nAgain, it is not necessary to understand the code to understand the conceptual ideas of this page. The code below--especially the first code chunk--is admittedly a little complicated, mostly because I added options to get the map to look exactly the way that I wanted. \n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nmymap <- plot_geo() %>%\n  layout(title = \"Demonstration Map\", \n         geo = list(showland = TRUE, # show land\n                    landcolor = toRGB(\"darkgrey\"), # land color\n                    showcountries = TRUE, # show countries\n                    showocean = FALSE, # show ocean\n                    oceancolor = \"lightblue\", # ocean color\n                    lataxis = list(showgrid = TRUE, # latitude options\n                                   gridcolor = toRGB(\"grey\")),\n                    lonaxis = list(showgrid = TRUE, # longitude options\n                                   gridcolor = toRGB(\"grey\")))) \n\nmymap # replay\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-1ce44055bd58212164ec\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-1ce44055bd58212164ec\">{\"x\":{\"visdat\":{\"1b797a66eb09\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"1b797a66eb09\",\"attrs\":{\"1b797a66eb09\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"mapType\":\"geo\",\"title\":\"Demonstration Map\",\"geo\":{\"domain\":{\"x\":[0,1],\"y\":[0,1]},\"showland\":true,\"landcolor\":\"rgba(169,169,169,1)\",\"showcountries\":true,\"showocean\":false,\"oceancolor\":\"lightblue\",\"lataxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"lonaxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"type\":\"scattergeo\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"geo\":\"geo\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Map Projections\n\n### Globe (Orthographic)\n\n> An *orthographic* projection reprsents the globe with 3 dimensional accuracy.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nmymap %>% \n  layout(geo = list(projection = list(type = 'orthographic')))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-ea4c3f4576cbfbaa8035\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-ea4c3f4576cbfbaa8035\">{\"x\":{\"visdat\":{\"1b797a66eb09\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"1b797a66eb09\",\"attrs\":{\"1b797a66eb09\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"mapType\":\"geo\",\"title\":\"Demonstration Map\",\"geo\":{\"domain\":{\"x\":[0,1],\"y\":[0,1]},\"showland\":true,\"landcolor\":\"rgba(169,169,169,1)\",\"showcountries\":true,\"showocean\":false,\"oceancolor\":\"lightblue\",\"lataxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"lonaxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"projection\":{\"type\":\"orthographic\"}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"type\":\"scattergeo\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"geo\":\"geo\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n### Mercator \n\n> A *Mercator* projection reprsents the earth with perpendicular latitude and longitude. This projection can be helpful in some kinds of navigation, but areas of landmasses are distorted, especially as one approaches the poles.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nmymap %>% \n  layout(geo=list(projection = list(type = 'mercator')))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-6b200a328b4ebbe13a88\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-6b200a328b4ebbe13a88\">{\"x\":{\"visdat\":{\"1b797a66eb09\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"1b797a66eb09\",\"attrs\":{\"1b797a66eb09\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"mapType\":\"geo\",\"title\":\"Demonstration Map\",\"geo\":{\"domain\":{\"x\":[0,1],\"y\":[0,1]},\"showland\":true,\"landcolor\":\"rgba(169,169,169,1)\",\"showcountries\":true,\"showocean\":false,\"oceancolor\":\"lightblue\",\"lataxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"lonaxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"projection\":{\"type\":\"mercator\"}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"type\":\"scattergeo\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"geo\":\"geo\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n### Mollweide\n\n> The *Mollweide* projection is an *equal area* projection. As a consequence, latitude and longitude lines are not perpendicular, and the shapes of some landmasses may appear to be distorted.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nmymap %>% \n  layout(geo=list(projection = list(type = 'mollweide')))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-abc4b35194b54ad8d41f\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-abc4b35194b54ad8d41f\">{\"x\":{\"visdat\":{\"1b797a66eb09\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"1b797a66eb09\",\"attrs\":{\"1b797a66eb09\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"mapType\":\"geo\",\"title\":\"Demonstration Map\",\"geo\":{\"domain\":{\"x\":[0,1],\"y\":[0,1]},\"showland\":true,\"landcolor\":\"rgba(169,169,169,1)\",\"showcountries\":true,\"showocean\":false,\"oceancolor\":\"lightblue\",\"lataxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"lonaxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"projection\":{\"type\":\"mollweide\"}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"type\":\"scattergeo\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"geo\":\"geo\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n### Robinson\n\n> The *Robinson* projection is an attempt to compromise between equal areas and a natural looking map.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nmymap %>% \n  layout(geo=list(projection = list(type = 'robinson')))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-b0b66446b83cc73ff6b7\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-b0b66446b83cc73ff6b7\">{\"x\":{\"visdat\":{\"1b797a66eb09\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"1b797a66eb09\",\"attrs\":{\"1b797a66eb09\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20]}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"mapType\":\"geo\",\"title\":\"Demonstration Map\",\"geo\":{\"domain\":{\"x\":[0,1],\"y\":[0,1]},\"showland\":true,\"landcolor\":\"rgba(169,169,169,1)\",\"showcountries\":true,\"showocean\":false,\"oceancolor\":\"lightblue\",\"lataxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"lonaxis\":{\"showgrid\":true,\"gridcolor\":\"rgba(190,190,190,1)\"},\"projection\":{\"type\":\"robinson\"}},\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"type\":\"scattergeo\",\"mode\":\"markers\",\"marker\":{\"color\":\"rgba(31,119,180,1)\",\"line\":{\"color\":\"rgba(31,119,180,1)\"}},\"line\":{\"color\":\"rgba(31,119,180,1)\"},\"geo\":\"geo\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n",
    "supporting": [
      "projections_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<script src=\"site_libs/plotly-binding-4.10.3/plotly.js\"></script>\n<script src=\"site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n<link href=\"site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}