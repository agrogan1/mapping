---
title: "Making Maps With `ggplot` Using Location Data"
---

# Use `read_csv` to Read Text File with Client Data

```{r}
#| code-fold: true

clients <- read_csv("./location-data/clients.csv")

```

# Only Clients in Ann Arbor Area

```{r}
#| code-fold: true

clients <- clients %>% 
  filter(latitude <= 42.33 &
           latitude >= 42.22 &
           longitude >= -83.8 &
           longitude <= -83.65)

```

# Convert Clients to `sf` Object While Indicating *Coordinate Reference System* (CRS)

```{r}
#| code-fold: true

# 4326 -> WGS1984

# point <- st_as_sf(clients,
#                   coords = c("longitude", "latitude"),
#                   crs = 4326)

# 4269 -> NAD1983 (A2 is NAD1983)

point <- st_as_sf(clients, 
                  coords = c("longitude", "latitude"), 
                  crs = 4269) 

# write to shapefile

st_write(point, 
         "./shapefiles/clients/clients.shp",
         append = FALSE) # replace; don't append

```
